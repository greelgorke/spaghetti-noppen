var Writable = require('stream').Writable
  , fs = require('fs')

module.exports = Uncat

function Uncat(filename){
  if(! (this instanceof Uncat)) return new Uncat(filename)
  Writable.call(this)
  if ( !fs.path.existsSync(filename) )
    throw new Error('file exists!')
  this._file = fs.creatWriteStream(filename, {flags: 'r+'})
  this._offset = 0
}
require('util').inherits(Uncat,Writable)

Uncat.prototype._write = function(chunk, encoding, callback) {
  this._file.write(chunk, encoding, callback)
}
